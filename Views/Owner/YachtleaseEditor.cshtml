@model ObjectViewModel<Yachtlease>
<partial name="_Validation" />
<h5 class="bg-@Model.Theme text-white text-center p-2">@Model.Action</h5>
<form asp-action="@Model.Action" method="post">

    <div class="@Model.HideOnDelete">
        @{
            Model.ReadOnly |= Model.Object.Enddate != null;
            Model.Option[0] |= Model.Object.Enddate != null;
            bool s = Model.Object.Startdate < DateTime.Now && Model.Action == CRUD.Edit;
        }

        <div class="form-group" hidden>
            <label asp-for="Object.Id"></label>
            <input class="form-control" asp-for="Object.Id" readonly />
        </div>

        <div class="form-group @Model.DisplayNone(s)">
            <label asp-for="Object.Startdate"></label>
            <div>
                <span asp-validation-for="Object.Startdate" class="text-danger"></span>
            </div>
            <input class="form-control" asp-for="Object.Startdate"
                   readonly="@Model.ReadOnly" />
        </div>


        <div class="form-group">
            <label asp-for="Object.Duration"></label>
            <div>
                <span asp-validation-for="Object.Duration" class="text-danger"></span>
            </div>
            <input class="form-control" asp-for="Object.Duration"
                   readonly="@Model.ReadOnly" />
        </div>

        <div class="form-group @Model.HideOnCreate @Model.HideOnDelete">
            <label asp-for="Object.Overallprice"></label>
            <div>
                <span asp-validation-for="Object.Overallprice" class="text-danger"></span>
            </div>
            <input class="form-control" asp-for="Object.Overallprice" placeholder="Общая цена @Methods.MoneyCulture" />
        </div>

        <div class="form-group @Model.HideOnCreate ">
            <div class="form-check form-switch position-relative d-flex m-2" style="left: 20px">
                <div>
                    <input asp-for="Option[0]" class="form-check-input" type="checkbox">
                </div>
                <div>
                    <label>Завершить договор</label>
                </div>

            </div>
        </div>

        <div class="form-group @Model.HideOnCreate ">
            <div class="form-check form-switch position-relative d-flex m-2" style="left: 20px">
                <div>
                    @if (!Model.Object.Paid)
                    {
                        <input asp-for="Option[1]" class="form-check-input" type="checkbox">
                    }
                    else
                    {
                        <input class="form-check-input" type="checkbox" asp-for="Option[1]" disabled>
                    }
                </div>
                <div>
                    <label>Стандартная цена</label>
                </div>

            </div>
        </div>

        <div class="form-group @Model.HideOnCreate ">
            <div class="form-check form-switch position-relative d-flex m-2" style="left: 20px">
                <div>
                    @if (!Model.Object.Paid)
                    {
                        <input asp-for="Object.Paid" class="form-check-input" type="checkbox">
                    }
                    else
                    {
                        <input class="form-check-input" type="checkbox" checked disabled>
                        <input asp-for="Object.Paid" hidden />
                    }
                </div>
                <div>
                    <label>Оплачено</label>
                </div>

            </div>
        </div>

        <div class="form-group @Model.HideOnDelete @Model.HideOnEdit">
            <label asp-for="Object.Yachtid"></label>
            <select class="form-control" asp-for="Object.Yachtid"
                    asp-items="@((ViewBag.Yacht as IEnumerable<Yacht> ?? Enumerable.Empty<Yacht>()).Select(p => new SelectListItem
{
    Text = $"{p.Name} ({p.Type.Name})",
    Value = p.Id.ToString()
}))"
                    disabled="@Model.ReadOnly">
                <option value="" disabled selected>Выберите яхту</option>
            </select>
            <input hidden asp-for="Object.Yachtid" readonly />
        </div>


        <div class="form-group @Model.HideOnDelete @Model.HideOnEdit">
            <label asp-for="Object.Yachtleasetypeid"></label>
            <select class="form-control" asp-for="Object.Yachtleasetypeid"
                    asp-items="@(new SelectList(ViewBag.Type as IEnumerable<Yachtleasetype> ?? Enumerable.Empty<Yachtleasetype>(), "Id", "Name"))"
                    disabled="@Model.ReadOnly">
                <option value="" disabled selected>Выберите тип контракта</option>
            </select>
            <input hidden asp-for="Object.Yachtleasetypeid" readonly />
        </div>

        <div class="dropdown-divider"></div>
        <div class="form-group">
            <label asp-for="Object.Specials"></label>
            <div>
                <span asp-validation-for="Object.Specials" class="text-danger"></span>
            </div>
            <textarea class="form-control" asp-for="Object.Specials"
                      readonly="@Model.ReadOnly"></textarea>
        </div>
    </div>
    <partial name="_EditorBottomButtons" model="@(new EditorBottomButtonsViewModel {
        ShowAction = Model.ShowAction && ( Model.Object.Enddate == null || Model.Action != "Edit"),
        Theme = Model.Theme,
        Action = Model.ActionObjectName,
        BackAction = Model.Object.GetType().Name
    })" />
</form>
