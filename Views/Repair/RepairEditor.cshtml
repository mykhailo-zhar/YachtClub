@model ObjectViewModel<Repair>
<partial name="_Validation" />
<h5 class="bg-@Model.Theme text-white text-center p-2">@Model.Action</h5>
<form asp-action="@Model..Action" method="post">

    <div class="form-group @Model.AlwaysHidden">
        <label asp-for="Object.Id"></label>
        <input class="form-control" asp-for="Object.Id" readonly />
    </div>
    @{
        Model.Option[0] |= Model.Object.Enddate != null;
    }

    <input hidden readonly asp-for="Object.Startdate" />




    <div class="form-group">
        <label asp-for="Object.Duration"></label>
        <div>
            <span asp-validation-for="Object.Duration" class="text-danger"></span>
        </div>
        <input class="form-control" asp-for="Object.Duration"
               readonly="@Model.ReadOnly" />
    </div>

    <div class="form-group">
        <label asp-for="Object.Personnel"></label>
        <div>
            <span asp-validation-for="Object.Personnel" class="text-danger"></span>
        </div>
        <input class="form-control" asp-for="Object.Personnel" min="1"
               readonly="@Model.ReadOnly" />
    </div>


    @{
        var List = new List<SelectListItem>();

        if(Model.Object.Status == "Created") List.Add( new SelectListItem { Text = "Создан", Value = "Created" } );
        List.Add(new SelectListItem { Text = "Ожидает материалы", Value = "Waits" });
        List.Add(new SelectListItem { Text = "В процессе", Value = "In Progress" });
        List.Add(new SelectListItem { Text = "Отменён", Value = "Canceled" });
        if(Model.Object.Status == "In Progress") List.Add(new SelectListItem { Text = "Окончен", Value = "Done" });

    }

    <div class="form-group @Model.HideOnDelete @Model.HideOnCreate">
        <label asp-for="Object.Status"></label>
        <div>
            <span asp-validation-for="Object.Status" class="text-danger"></span>
        </div>
        <select class="form-control" asp-for="Object.Status"
                asp-items="@List">
        </select>
    </div>

    <div class="form-group @Model.HideOnDelete @Model.HideOnEdit">
        <div class="dropdown-divider"></div>
        <label>Яхта</label>
        <select class="form-control" asp-for="Object.Yachtid"
                asp-items="@(new SelectList(ViewData["Yacht"] as IEnumerable<Yacht> ?? Enumerable.Empty<Yacht>(), "Id", "Name"))"
                disabled="@Model.ReadOnly">
            <option value="" disabled selected>Выберите яхту</option>
        </select>
        <input hidden asp-for="Object.Yachtid" />
    </div>

    <div class="dropdown-divider"></div>
    <div class="form-group">
        <label asp-for="Object.Description"></label>
        <div>
            <span asp-validation-for="Object.Description" class="text-danger"></span>
        </div>
        <textarea class="form-control" asp-for="Object.Description"
                  readonly="@Model.ReadOnly"></textarea>
    </div>

    <partial name="_EditorBottomButtons" model="@(new EditorBottomButtonsViewModel {
        ShowAction = Model.ShowAction,
        Theme = Model.Theme,
        Action = Model.ActionObjectName,
        BackAction = Model.Object.GetType().Name
    })" />
</form>
